<html>
<html lang="en">
    <head>
        <script src='https://d3js.org/d3.v7.min.js'></script>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    </head> 

<nav class="navbar navbar-light" style="background-color: #44a0ec8e;">
    <a class="navbar-brand" href="./index.html" style="color: white">DF Lab 1 Home </a>
    
      <span class="navbar-toggler-icon"></span>
    </button>

  </nav>


<body>


  </div>

    <script>
      const width = 400;
      const height = 300;
      var data = [10, 15, 20, 25, 30];

      var svg = d3.select("body")
                  .append("svg")
                  .attr("width", width)
                  .attr("height", height);

      var xscale = d3.scaleLinear()
                      .domain([0, d3.max(data)])
                      .range([0, width - 100]);

      var yscale = d3.scaleLinear()
                      .domain([0, d3.max(data)])
                      .range([height/2, 0]);

      var x_axis = d3.axisBottom()
                      .scale(xscale);

      var y_axis = d3.axisLeft()
                      .scale(yscale);

      var x_axis_top = d3.axisTop()
                        .scale(xscale); // added axis on top

      var y_axis_right = d3.axisRight()
                            .scale(yscale); //added axis on right
      
      svg.append("g")
      .attr("transform", "translate(50, 30)")
      .call(y_axis);

      svg.append("g")
      .attr("transform", "translate(350, 30)")
      .style('color','blue')         // coloured the axis blue
      .call(y_axis_right);


      var xAxisTranslate = height/2 + 30;
      svg.append("g")
      .attr("transform", "translate(50, " + xAxisTranslate +")")
      .call(x_axis)

      svg.append("g")
      .attr("transform", "translate(50, " + 30 +")")
      .style('color','blue')        // coloured the axis blue
      .call(x_axis_top)


      //Excercise 21

      const barHeight = 20;
      const margin = 1;
      const data1= [50, 400, 300, 900, 250, 1000]

      var svg_2 = d3.select("body")
      .append("svg")
      .attr("width", width+100)
      .attr("height", barHeight * data.length +400);

      var scale = d3.scaleLinear()
                    .domain([0, d3.max(data1)])
                    .range([0, 400]);
      
      var xscale_2 = d3.scaleLinear()
                        .domain([0, d3.max(data1)])
                        .range([0, 400 ]);

      var yscale_2 = d3.scaleBand()
                        .domain(d3.range(data1.length)) 
                        .range([ 1,barHeight * data.length +120 ]);

      var yscale_3 = d3.scaleBand()
                      .domain(d3.range(data1.length)) 
                      .range([ 0,barHeight * data.length  ]);

      var g = svg_2.selectAll("g")
                  .data(data1)
                  .enter()
                  .append("g")
                  .attr("transform", function (d, i) { return "translate(35," + i * barHeight + ")";});

      g.append("rect")
        .attr("width", function (d) {return scale(d);})
        .attr("y", function (d, i) {return yscale_3(i)  +40;} )
        .attr("transform", "translate(0, 0)")
        .attr('fill',function (d) { return (d <100?'green':d>500?'red' :'blue'); })
        .attr("height", barHeight - margin)


      g.append("text")
        .attr("x", function (d) { return (scale(d)); })
        .attr("y", function (d, i) { return yscale_3(i)  +50;} )
        .style('color','white')
        .attr("dy", ".35em")
        .style('text-anchor', 'end')
        .text(function (d) { return d; });


      // Create scale

      // Add scales to axis
      var x_axis_2 = d3.axisBottom()
                        .scale(xscale_2);
      

      var y_axis_2 = d3.axisLeft()
                        .scale(yscale_2); 

      //Append axis to the bar chart 
      svg_2.append("g")
      .attr("transform", "translate(35, 250)")
      .call(x_axis_2); 

      svg_2.append("g")
      .attr("transform", "translate(35, 30)")
      .call(y_axis_2); 

    </script>

</body>
</html>